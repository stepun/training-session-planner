# CLAUDE.md - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è Claude Code Assistant

## –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!)

### üîí –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –∫–æ–¥–µ!

**–ó–ê–ü–†–ï–©–ï–ù–û:**
```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Å–µ–∫—Ä–µ—Ç—ã –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ
const config = {
  apiKey: "sk-1234567890abcdef",
  secretKey: "super-secret-key-123"
}
```

**–ü–†–ê–í–ò–õ–¨–ù–û:**
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
const config = {
  apiKey: process.env.API_KEY || import.meta.env.VITE_API_KEY,
  secretKey: process.env.SECRET_KEY || import.meta.env.VITE_SECRET_KEY
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
if (!config.apiKey || !config.secretKey) {
  throw new Error('API keys not configured. Please set environment variables.')
}
```

### üìù –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ .env.example

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ñ–∞–π–ª `.env.example` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```env
# API Configuration
VITE_API_URL=https://api.example.com
VITE_API_KEY=your_api_key_here
VITE_SECRET_KEY=your_secret_key_here

# Database
DB_HOST=localhost
DB_USER=username
DB_PASSWORD=password
```

### üê≥ Docker –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í `docker-compose.yml` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```yaml
services:
  app:
    environment:
      - API_KEY=${API_KEY}
      - SECRET_KEY=${SECRET_KEY}
    # –ò–ª–∏ –¥–ª—è Vite –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:
      - VITE_API_KEY=${VITE_API_KEY}
```

### üö´ –î–æ–±–∞–≤—å—Ç–µ –≤ .gitignore

```gitignore
# Environment variables
.env
.env.local
.env.production

# Credentials
credentials.json
config/secrets.json
```

## –ö–æ–º–∞–Ω–¥—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```bash
# –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
docker compose build

# –ó–∞–ø—É—Å–∫ –≤ development —Ä–µ–∂–∏–º–µ
docker compose up

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker compose ps
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
```bash
# –õ–∏–Ω—Ç–∏–Ω–≥ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
npm run lint

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
npm run typecheck

# –¢–µ—Å—Ç—ã (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
npm run test
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Frontend (React + TypeScript + Vite)
- **UI**: Tailwind CSS + shadcn/ui
- **State**: Zustand
- **PDF**: @react-pdf/renderer
- **Drag & Drop**: @dnd-kit
- **File Upload**: S3/MinIO integration

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/     # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeneralDataForm.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ExerciseCard.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ExercisesList.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TrainingPreview.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PDFDocument.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LanguageSwitcher.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/         # shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ types/          # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ training.ts
‚îÇ   ‚îú‚îÄ‚îÄ store/          # Zustand store
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trainingStore.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ languageStore.ts
‚îÇ   ‚îú‚îÄ‚îÄ hooks/          # React hooks
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useTranslation.ts
‚îÇ   ‚îú‚îÄ‚îÄ locales/        # –§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ru-RU.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ en-US.json
‚îÇ   ‚îú‚îÄ‚îÄ services/       # API –∏ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ App.tsx
‚îú‚îÄ‚îÄ public/
‚îî‚îÄ‚îÄ Dockerfile.dev
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `GeneralDataForm` - —Ñ–æ—Ä–º–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- `ExerciseCard` - –∫–∞—Ä—Ç–æ—á–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å drag&drop
- `ExercisesList` - —Å–ø–∏—Å–æ–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
- `TrainingPreview` - –ø—Ä–µ–≤—å—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- `PDFDocument` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- `LanguageSwitcher` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å:
- `frontend/src/locales/ru-RU.json` - —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
- `frontend/src/locales/en-US.json` - –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫
- `frontend/src/store/languageStore.ts` - Zustand store –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —è–∑—ã–∫–æ–º
- `frontend/src/hooks/useTranslation.ts` - —Ö—É–∫ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

### –ü–∞–≥–∏–Ω–∞—Ü–∏—è Preview –∏ PDF
**–í–∞–∂–Ω–æ:** –õ–æ–≥–∏–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ `TrainingPreview.tsx` –∏ `PDFDocument.tsx` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞!

**–ê–ª–≥–æ—Ä–∏—Ç–º –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:**
1. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—É—é –≤—ã—Å–æ—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ë–ï–ó —É—á–µ—Ç–∞ —Ñ—É—Ç–µ—Ä–∞
2. –†–∞–∑–º–µ—â–∞–µ–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –ø–æ –≤—ã—Å–æ—Ç–µ
3. –ü–æ—Å–ª–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ–º: –µ—Å–ª–∏ –æ–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ò —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è + —Ñ—É—Ç–µ—Ä –Ω–µ –≤–ª–µ–∑–∞—é—Ç ‚Üí —Å–æ–∑–¥–∞–µ–º –ø—É—Å—Ç—É—é –≤—Ç–æ—Ä—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. –§—É—Ç–µ—Ä –≤—Å–µ–≥–¥–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
5. –ù–∞ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö (—Ç–æ–ª—å–∫–æ —Å —Ñ—É—Ç–µ—Ä–æ–º) –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫

**–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å:**
```typescript
// Preview (px)
const A4_HEIGHT_PX = 1122
const PADDING_PX = 30 * 3.78 * 2  // 227px
const FIRST_PAGE_HEADER_PX = 150
const TOTAL_DURATION_PX = 25

// PDF (points, 1px ‚âà 0.75pt)
const A4_HEIGHT = 842
const PADDING = 30 * 2  // 60pt
const FIRST_PAGE_HEADER = 120
const TOTAL_DURATION_HEIGHT = 35
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ –∫–æ–¥–µ

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
if (!file.type.startsWith('image/')) {
  throw new Error('Only image files allowed')
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ (–º–∞–∫—Å–∏–º—É–º 5MB)
if (file.size > 5 * 1024 * 1024) {
  throw new Error('File size exceeds 5MB limit')
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```typescript
try {
  const result = await riskyOperation()
  return result
} catch (error) {
  console.error('Operation failed:', error)
  // –ù–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!
  throw new Error('Operation failed')
}
```

## –ü–∞–º—è—Ç–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–í—Å–µ–≥–¥–∞** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
2. **–ù–∏–∫–æ–≥–¥–∞** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª—ã
3. **–í—Å–µ–≥–¥–∞** —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ `.env.example`
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ** –Ω–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
5. **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
6. **–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ** —Ä–∞–∑–º–µ—Ä—ã –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
7. **–õ–æ–≥–∏—Ä—É–π—Ç–µ** –æ—à–∏–±–∫–∏, –Ω–æ –Ω–µ —Å–µ–∫—Ä–µ—Ç—ã

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

- [ ] –ù–µ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∫–æ–¥–µ
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω .env.example
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –û–±—Ä–∞–±–æ—Ç–∞–Ω—ã –æ—à–∏–±–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è Preview –∏ PDF (–µ—Å–ª–∏ –º–µ–Ω—è–ª–∞—Å—å)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã –≤ ru-RU.json –∏ en-US.json (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–ª—Å—è —Ç–µ–∫—Å—Ç)

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- Preview –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
- PDF –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫—É—é –æ—Ü–µ–Ω–∫—É –≤—ã—Å–æ—Ç—ã —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
- –ï—Å–ª–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—ã—Å–æ—Ç –≤ –æ–±–æ–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### –®—Ä–∏—Ñ—Ç—ã
- Preview: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π —à—Ä–∏—Ñ—Ç —á–µ—Ä–µ–∑ Tailwind
- PDF: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Roboto (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ CDN)
- –†–∞–∑–Ω–∏—Ü–∞ –≤ —à—Ä–∏—Ñ—Ç–∞—Ö –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –≤—ã—Å–æ—Ç—É —Ç–µ–∫—Å—Ç–∞

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- Preview: –º–∞–∫—Å–∏–º—É–º 190px x 190px
- PDF: –º–∞–∫—Å–∏–º—É–º 142pt x 142pt (~189px x 189px)
- –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º

---

**–í–ê–ñ–ù–û**: –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–ª—É–∂–∏—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º –æ –ø—Ä–∞–≤–∏–ª–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –°–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º!